





# 用户授权接口

## 获得用户及授权情况

**接口地址** `/users`


**请求方式** `GET`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

暂无





**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

所有的用户授权信息




**响应示例**


```json
[
    {
        "role": [
            "ADMIN"
        ],
        "user": "admin"
    },
    {
        "role": [
            "ADMIN",
            "NORMAL"
        ],
        "user": "test"
    }
]
```

## 授权用户

**接口地址** `/users/assignment`


**请求方式** `PUT`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| request  | request  | body     | true     | object   |        |

**schema属性说明**

Request

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型  | schema                 |
| -------- | -------- | -------- | -------- | --------- | ---------------------- |
| username | 用户名   | body     | false    | string    |                        |
| roles    | 角色列表 | body     | false    | List[int] | 1代表ADMIN,2代表NORMAL |
|          |          |          |          |           |                        |
|          |          |          |          |           |                        |
|          |          |          |          |           |                        |

**示例**

```
{
    "username": "test",
    "roles":[1,2]
}
```


**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 201    | Created      |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

所有的用户授权信息



**响应示例**

```
[
    {
        "role": [
            "ADMIN"
        ],
        "user": "admin"
    },
    {
        "role": [
            "ADMIN",
            "NORMAL"
        ],
        "user": "test"
    }
]
```



# 图书管理接口

## 获得图书列表

**接口地址** `/books`


**请求方式** `GET`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

暂无





**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           | Book   |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| author   |          | string         |                |
| bookname |          | string         |                |
| id       |          | integer(int32) | integer(int32) |
| intro    |          | string         |                |
| price    |          | number(float)  | number(float)  |





**响应示例**


```json
[
	{
		"author": "",
		"bookname": "",
		"id": 0,
		"intro": "",
		"price": 0
	}
]
```



## 新增图书

**接口地址** `/books`


**请求方式** `POST`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| book     | book     | body     | true     | Book     | Book   |




**schema属性说明**

**Book**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型       | schema |
| -------- | -------- | -------- | -------- | -------------- | ------ |
| author   |          | body     | false    | string         |        |
| bookname |          | body     | false    | string         |        |
| id       |          | body     | false    | integer(int32) |        |
| intro    |          | body     | false    | string         |        |
| price    |          | body     | false    | number(float)  |        |





**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 201    | Created      |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

暂无




**响应示例**


```json

```

## 修改图书信息

**接口地址** `/books`


**请求方式** `PUT`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| book     | book     | body     | true     | Book     | Book   |




**schema属性说明**

**Book**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型       | schema |
| -------- | -------- | -------- | -------- | -------------- | ------ |
| author   |          | body     | false    | string         |        |
| bookname |          | body     | false    | string         |        |
| id       |          | body     | false    | integer(int32) |        |
| intro    |          | body     | false    | string         |        |
| price    |          | body     | false    | number(float)  |        |





**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 201    | Created      |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

暂无




**响应示例**


```json

```

## 图书模糊查询

**接口地址** `/books/searchResult/{searchKey}`


**请求方式** `GET`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称  | 参数说明  | 请求类型 | 是否必须 | 数据类型 | schema |
| --------- | --------- | -------- | -------- | -------- | ------ |
| searchKey | searchKey | path     | true     | string   |        |






**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           | Book   |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| author   |          | string         |                |
| bookname |          | string         |                |
| id       |          | integer(int32) | integer(int32) |
| intro    |          | string         |                |
| price    |          | number(float)  | number(float)  |





**响应示例**


```json
[
	{
		"author": "",
		"bookname": "",
		"id": 0,
		"intro": "",
		"price": 0
	}
]
```

## 获得指定图书

**接口地址** `/books/{id}`


**请求方式** `GET`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| id       | id       | path     | true     | integer  |        |






**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           | Book   |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| author   |          | string         |                |
| bookname |          | string         |                |
| id       |          | integer(int32) | integer(int32) |
| intro    |          | string         |                |
| price    |          | number(float)  | number(float)  |





**响应示例**


```json
{
	"author": "",
	"bookname": "",
	"id": 0,
	"intro": "",
	"price": 0
}
```

## 删除指定图书

**接口地址** `/books/{id}`


**请求方式** `DELETE`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| id       | id       | path     | true     | integer  |        |






**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 204    | No Content   |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |




**响应参数**

暂无




**响应示例**


```json

```

# 登陆注册接口

## 注册

**接口地址** `/register`


**请求方式** `POST`


**consumes** `["application/json"]`


**produces** `["*/*"]`


**接口描述** ``

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| user     | user     | body     | true     | object   |        |

**schema属性说明**

**User**

| 参数名称  | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| --------- | -------- | -------- | -------- | -------- | ------ |
| username  |          | body     | false    | string   |        |
| password  |          | body     | false    | string   |        |
| password2 |          | body     | false    | string   |        |
|           |          |          |          |          |        |
|           |          |          |          |          |        |




**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 201    | Created      |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

code:返回状态 200代表注册成功，-1代表失败

msg:返回内容




**响应示例**


```text
{"msg":"注册成功","code":"200"}
```

## 登录

**接口地址** `/login`

**请求方式** POST


**produces** `["*/*"]`

**接口描述** `这里使用的security内置的登录逻辑`

**请求示例**（security内置方式是以参数形式传值的，我也不清楚，另外，这是post请求）

```
http://127.0.0.1:8888/login?username=test&password=123456
```

**请求参数**

| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
|          |          |          |          |          |        |






**响应状态**

| 状态码 | 说明         | schema |
| ------ | ------------ | ------ |
| 200    | OK           |        |
| 201    | Created      |        |
| 401    | Unauthorized |        |
| 403    | Forbidden    |        |
| 404    | Not Found    |        |




**响应参数**

code:

msg:




**响应示例**


```text
{
    "msg": "登陆成功",
    "code": 200
}
```






